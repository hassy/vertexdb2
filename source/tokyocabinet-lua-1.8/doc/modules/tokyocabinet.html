<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Tokyo Cabinet</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h1>Modules</h1>
<ul>

	<li><strong>tokyocabinet</strong></li>
	
</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module <code>tokyocabinet</code></h1>

<p>The Lua binding of Tokyo Cabinet.</p>



<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#adb:adddouble">adb:adddouble</a>&nbsp;(key, num)</td>
	<td class="summary">Add a real number to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:addint">adb:addint</a>&nbsp;(key, num)</td>
	<td class="summary">Add an integer to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:close">adb:close</a>&nbsp;()</td>
	<td class="summary">Close the database.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:copy">adb:copy</a>&nbsp;(path)</td>
	<td class="summary">Copy the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:foreach">adb:foreach</a>&nbsp;(func)</td>
	<td class="summary">Process each record atomically.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:fwmkeys">adb:fwmkeys</a>&nbsp;(prefix, max)</td>
	<td class="summary">Get forward matching keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:get">adb:get</a>&nbsp;(key)</td>
	<td class="summary">Retrieve a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:iterinit">adb:iterinit</a>&nbsp;()</td>
	<td class="summary">Initialize the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:iternext">adb:iternext</a>&nbsp;()</td>
	<td class="summary">Get the next key of the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:open">adb:open</a>&nbsp;(name)</td>
	<td class="summary">Open a database.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:optimize">adb:optimize</a>&nbsp;(params)</td>
	<td class="summary">Optimize the storage.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:out">adb:out</a>&nbsp;(key)</td>
	<td class="summary">Remove a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:pairs">adb:pairs</a>&nbsp;()</td>
	<td class="summary">Get the iterator for generic "for" loop.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:path">adb:path</a>&nbsp;()</td>
	<td class="summary">Get the path of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:put">adb:put</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:putcat">adb:putcat</a>&nbsp;(key, value)</td>
	<td class="summary">Concatenate a value at the end of the existing record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:putkeep">adb:putkeep</a>&nbsp;(key, value)</td>
	<td class="summary">Store a new record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:rnum">adb:rnum</a>&nbsp;()</td>
	<td class="summary">Get the number of records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:size">adb:size</a>&nbsp;()</td>
	<td class="summary">Get the size of the database.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:sync">adb:sync</a>&nbsp;()</td>
	<td class="summary">Synchronize updated contents with the file and the device.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:tranabort">adb:tranabort</a>&nbsp;()</td>
	<td class="summary">Abort the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:tranbegin">adb:tranbegin</a>&nbsp;()</td>
	<td class="summary">Begin the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:trancommit">adb:trancommit</a>&nbsp;()</td>
	<td class="summary">Commit the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:vanish">adb:vanish</a>&nbsp;()</td>
	<td class="summary">Remove all records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#adb:vsiz">adb:vsiz</a>&nbsp;(key)</td>
	<td class="summary">Get the size of the value of a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:adddouble">bdb:adddouble</a>&nbsp;(key, num)</td>
	<td class="summary">Add a real number to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:addint">bdb:addint</a>&nbsp;(key, num)</td>
	<td class="summary">Add an integer to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:close">bdb:close</a>&nbsp;()</td>
	<td class="summary">Close the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:copy">bdb:copy</a>&nbsp;(path)</td>
	<td class="summary">Copy the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:ecode">bdb:ecode</a>&nbsp;()</td>
	<td class="summary">Get the last happened error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:errmsg">bdb:errmsg</a>&nbsp;(ecode)</td>
	<td class="summary">Get the message string corresponding to an error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:foreach">bdb:foreach</a>&nbsp;(func)</td>
	<td class="summary">Process each record atomically.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:fsiz">bdb:fsiz</a>&nbsp;()</td>
	<td class="summary">Get the size of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:fwmkeys">bdb:fwmkeys</a>&nbsp;(prefix, max)</td>
	<td class="summary">Get forward matching keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:get">bdb:get</a>&nbsp;(key)</td>
	<td class="summary">Retrieve a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:getlist">bdb:getlist</a>&nbsp;(key)</td>
	<td class="summary">Retrieve records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:open">bdb:open</a>&nbsp;(path, omode)</td>
	<td class="summary">Open a database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:optimize">bdb:optimize</a>&nbsp;(lmemb, nmemb, bnum, apow, fpow, opts)</td>
	<td class="summary">Optimize the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:out">bdb:out</a>&nbsp;(key)</td>
	<td class="summary">Remove a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:outlist">bdb:outlist</a>&nbsp;(key)</td>
	<td class="summary">Remove records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:pairs">bdb:pairs</a>&nbsp;()</td>
	<td class="summary">Get the iterator for generic "for" loop.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:path">bdb:path</a>&nbsp;()</td>
	<td class="summary">Get the path of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:put">bdb:put</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:putcat">bdb:putcat</a>&nbsp;(key, value)</td>
	<td class="summary">Concatenate a value at the end of the existing record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:putdup">bdb:putdup</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record with allowing duplication of keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:putkeep">bdb:putkeep</a>&nbsp;(key, value)</td>
	<td class="summary">Store a new record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:putlist">bdb:putlist</a>&nbsp;(key, values)</td>
	<td class="summary">Store records with allowing duplication of keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:range">bdb:range</a>&nbsp;(bkey, binc, ekey, einc, max)</td>
	<td class="summary">Get keys of ranged records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:rnum">bdb:rnum</a>&nbsp;()</td>
	<td class="summary">Get the number of records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:setcache">bdb:setcache</a>&nbsp;(lcnum, ncnum)</td>
	<td class="summary">Set the caching parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:setcmpfunc">bdb:setcmpfunc</a>&nbsp;(cmp)</td>
	<td class="summary">Set the custom comparison function.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:setdfunit">bdb:setdfunit</a>&nbsp;(dfunit)</td>
	<td class="summary">Set the unit step number of auto defragmentation.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:setxmsiz">bdb:setxmsiz</a>&nbsp;(xmsiz)</td>
	<td class="summary">Set the size of the extra mapped memory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:sync">bdb:sync</a>&nbsp;()</td>
	<td class="summary">Synchronize updated contents with the file and the device.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:tranabort">bdb:tranabort</a>&nbsp;()</td>
	<td class="summary">Abort the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:tranbegin">bdb:tranbegin</a>&nbsp;()</td>
	<td class="summary">Begin the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:trancommit">bdb:trancommit</a>&nbsp;()</td>
	<td class="summary">Commit the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:tune">bdb:tune</a>&nbsp;(lmemb, nmemb, bnum, apow, fpow, opts)</td>
	<td class="summary">Set the tuning parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:vanish">bdb:vanish</a>&nbsp;()</td>
	<td class="summary">Remove all records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:vnum">bdb:vnum</a>&nbsp;(key)</td>
	<td class="summary">Get the number of records corresponding a key.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdb:vsiz">bdb:vsiz</a>&nbsp;(key)</td>
	<td class="summary">Get the size of the value of a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:first">bdbcur:first</a>&nbsp;()</td>
	<td class="summary">Move the cursor to the first record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:jump">bdbcur:jump</a>&nbsp;(key)</td>
	<td class="summary">Move the cursor to the front of records corresponding a key.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:key">bdbcur:key</a>&nbsp;()</td>
	<td class="summary">Get the key of the record where the cursor is.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:last">bdbcur:last</a>&nbsp;()</td>
	<td class="summary">Move the cursor to the last record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:next">bdbcur:next</a>&nbsp;()</td>
	<td class="summary">Move the cursor to the next record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:out">bdbcur:out</a>&nbsp;()</td>
	<td class="summary">Remove the record where the cursor is.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:prev">bdbcur:prev</a>&nbsp;()</td>
	<td class="summary">Move the cursor to the previous record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:put">bdbcur:put</a>&nbsp;(value, cpmode)</td>
	<td class="summary">Insert a record around the cursor.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#bdbcur:val">bdbcur:val</a>&nbsp;()</td>
	<td class="summary">Get the value of the record where the cursor is.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:adddouble">fdb:adddouble</a>&nbsp;(key, num)</td>
	<td class="summary">Add a real number to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:addint">fdb:addint</a>&nbsp;(key, num)</td>
	<td class="summary">Add an integer to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:close">fdb:close</a>&nbsp;()</td>
	<td class="summary">Close the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:copy">fdb:copy</a>&nbsp;(path)</td>
	<td class="summary">Copy the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:ecode">fdb:ecode</a>&nbsp;()</td>
	<td class="summary">Get the last happened error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:errmsg">fdb:errmsg</a>&nbsp;(ecode)</td>
	<td class="summary">Get the message string corresponding to an error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:foreach">fdb:foreach</a>&nbsp;(func)</td>
	<td class="summary">Process each record atomically.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:fsiz">fdb:fsiz</a>&nbsp;()</td>
	<td class="summary">Get the size of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:get">fdb:get</a>&nbsp;(key)</td>
	<td class="summary">Retrieve a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:iterinit">fdb:iterinit</a>&nbsp;()</td>
	<td class="summary">Initialize the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:iternext">fdb:iternext</a>&nbsp;()</td>
	<td class="summary">Get the next key of the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:open">fdb:open</a>&nbsp;(path, omode)</td>
	<td class="summary">Open a database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:optimize">fdb:optimize</a>&nbsp;(width, limsiz)</td>
	<td class="summary">Optimize the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:out">fdb:out</a>&nbsp;(key)</td>
	<td class="summary">Remove a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:pairs">fdb:pairs</a>&nbsp;()</td>
	<td class="summary">Get the iterator for generic "for" loop.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:path">fdb:path</a>&nbsp;()</td>
	<td class="summary">Get the path of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:put">fdb:put</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:putcat">fdb:putcat</a>&nbsp;(key, value)</td>
	<td class="summary">Concatenate a value at the end of the existing record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:putkeep">fdb:putkeep</a>&nbsp;(key, value)</td>
	<td class="summary">Store a new record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:range">fdb:range</a>&nbsp;(interval, max)</td>
	<td class="summary">Get keys with an interval notation.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:rnum">fdb:rnum</a>&nbsp;()</td>
	<td class="summary">Get the number of records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:sync">fdb:sync</a>&nbsp;()</td>
	<td class="summary">Synchronize updated contents with the file and the device.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:tranabort">fdb:tranabort</a>&nbsp;()</td>
	<td class="summary">Abort the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:tranbegin">fdb:tranbegin</a>&nbsp;()</td>
	<td class="summary">Begin the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:trancommit">fdb:trancommit</a>&nbsp;()</td>
	<td class="summary">Commit the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:tune">fdb:tune</a>&nbsp;(width, limsiz)</td>
	<td class="summary">Set the tuning parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:vanish">fdb:vanish</a>&nbsp;()</td>
	<td class="summary">Remove all records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#fdb:vsiz">fdb:vsiz</a>&nbsp;(key)</td>
	<td class="summary">Get the size of the value of a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:adddouble">hdb:adddouble</a>&nbsp;(key, num)</td>
	<td class="summary">Add a real number to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:addint">hdb:addint</a>&nbsp;(key, num)</td>
	<td class="summary">Add an integer to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:close">hdb:close</a>&nbsp;()</td>
	<td class="summary">Close the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:copy">hdb:copy</a>&nbsp;(path)</td>
	<td class="summary">Copy the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:ecode">hdb:ecode</a>&nbsp;()</td>
	<td class="summary">Get the last happened error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:errmsg">hdb:errmsg</a>&nbsp;(ecode)</td>
	<td class="summary">Get the message string corresponding to an error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:foreach">hdb:foreach</a>&nbsp;(func)</td>
	<td class="summary">Process each record atomically.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:fsiz">hdb:fsiz</a>&nbsp;()</td>
	<td class="summary">Get the size of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:fwmkeys">hdb:fwmkeys</a>&nbsp;(prefix, max)</td>
	<td class="summary">Get forward matching keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:get">hdb:get</a>&nbsp;(key)</td>
	<td class="summary">Retrieve a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:iterinit">hdb:iterinit</a>&nbsp;()</td>
	<td class="summary">Initialize the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:iternext">hdb:iternext</a>&nbsp;()</td>
	<td class="summary">Get the next key of the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:open">hdb:open</a>&nbsp;(path, omode)</td>
	<td class="summary">Open a database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:optimize">hdb:optimize</a>&nbsp;(bnum, apow, fpow, opts)</td>
	<td class="summary">Optimize the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:out">hdb:out</a>&nbsp;(key)</td>
	<td class="summary">Remove a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:pairs">hdb:pairs</a>&nbsp;()</td>
	<td class="summary">Get the iterator for generic "for" loop.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:path">hdb:path</a>&nbsp;()</td>
	<td class="summary">Get the path of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:put">hdb:put</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:putasync">hdb:putasync</a>&nbsp;(key, value)</td>
	<td class="summary">Store a record in asynchronous fashion.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:putcat">hdb:putcat</a>&nbsp;(key, value)</td>
	<td class="summary">Concatenate a value at the end of the existing record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:putkeep">hdb:putkeep</a>&nbsp;(key, value)</td>
	<td class="summary">Store a new record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:rnum">hdb:rnum</a>&nbsp;()</td>
	<td class="summary">Get the number of records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:setcache">hdb:setcache</a>&nbsp;(rcnum)</td>
	<td class="summary">Set the caching parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:setdfunit">hdb:setdfunit</a>&nbsp;(dfunit)</td>
	<td class="summary">Set the unit step number of auto defragmentation.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:setxmsiz">hdb:setxmsiz</a>&nbsp;(xmsiz)</td>
	<td class="summary">Set the size of the extra mapped memory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:sync">hdb:sync</a>&nbsp;()</td>
	<td class="summary">Synchronize updated contents with the file and the device.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:tranabort">hdb:tranabort</a>&nbsp;()</td>
	<td class="summary">Abort the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:tranbegin">hdb:tranbegin</a>&nbsp;()</td>
	<td class="summary">Begin the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:trancommit">hdb:trancommit</a>&nbsp;()</td>
	<td class="summary">Commit the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:tune">hdb:tune</a>&nbsp;(bnum, apow, fpow, opts)</td>
	<td class="summary">Set the tuning parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:vanish">hdb:vanish</a>&nbsp;()</td>
	<td class="summary">Remove all records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#hdb:vsiz">hdb:vsiz</a>&nbsp;(key)</td>
	<td class="summary">Get the size of the value of a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:adddouble">tdb:adddouble</a>&nbsp;(pkey, num)</td>
	<td class="summary">Add a real number to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:addint">tdb:addint</a>&nbsp;(pkey, num)</td>
	<td class="summary">Add an integer to a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:close">tdb:close</a>&nbsp;()</td>
	<td class="summary">Close the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:copy">tdb:copy</a>&nbsp;(path)</td>
	<td class="summary">Copy the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:ecode">tdb:ecode</a>&nbsp;()</td>
	<td class="summary">Get the last happened error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:errmsg">tdb:errmsg</a>&nbsp;(ecode)</td>
	<td class="summary">Get the message string corresponding to an error code.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:foreach">tdb:foreach</a>&nbsp;(func)</td>
	<td class="summary">Process each record atomically.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:fsiz">tdb:fsiz</a>&nbsp;()</td>
	<td class="summary">Get the size of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:fwmkeys">tdb:fwmkeys</a>&nbsp;(prefix, max)</td>
	<td class="summary">Get forward matching primary keys.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:genuid">tdb:genuid</a>&nbsp;()</td>
	<td class="summary">Generate a unique ID number.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:get">tdb:get</a>&nbsp;(pkey)</td>
	<td class="summary">Retrieve a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:iterinit">tdb:iterinit</a>&nbsp;()</td>
	<td class="summary">Initialize the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:iternext">tdb:iternext</a>&nbsp;()</td>
	<td class="summary">Get the next primary key of the iterator.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:open">tdb:open</a>&nbsp;(path, omode)</td>
	<td class="summary">Open a database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:optimize">tdb:optimize</a>&nbsp;(bnum, apow, fpow, opts)</td>
	<td class="summary">Optimize the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:out">tdb:out</a>&nbsp;(pkey)</td>
	<td class="summary">Remove a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:pairs">tdb:pairs</a>&nbsp;()</td>
	<td class="summary">Get the iterator for generic "for" loop.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:path">tdb:path</a>&nbsp;()</td>
	<td class="summary">Get the path of the database file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:put">tdb:put</a>&nbsp;(pkey, cols)</td>
	<td class="summary">Store a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:putcat">tdb:putcat</a>&nbsp;(pkey, cols)</td>
	<td class="summary">Concatenate columns of the existing record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:putkeep">tdb:putkeep</a>&nbsp;(pkey, cols)</td>
	<td class="summary">Store a new record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:rnum">tdb:rnum</a>&nbsp;()</td>
	<td class="summary">Get the number of records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:setcache">tdb:setcache</a>&nbsp;(rcnum, lcnum, ncnum)</td>
	<td class="summary">Set the caching parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:setdfunit">tdb:setdfunit</a>&nbsp;(dfunit)</td>
	<td class="summary">Set the unit step number of auto defragmentation.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:setindex">tdb:setindex</a>&nbsp;(name, type)</td>
	<td class="summary">Set a column index.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:setxmsiz">tdb:setxmsiz</a>&nbsp;(xmsiz)</td>
	<td class="summary">Set the size of the extra mapped memory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:sync">tdb:sync</a>&nbsp;()</td>
	<td class="summary">Synchronize updated contents with the file and the device.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:tranabort">tdb:tranabort</a>&nbsp;()</td>
	<td class="summary">Abort the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:tranbegin">tdb:tranbegin</a>&nbsp;()</td>
	<td class="summary">Begin the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:trancommit">tdb:trancommit</a>&nbsp;()</td>
	<td class="summary">Commit the transaction.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:tune">tdb:tune</a>&nbsp;(bnum, apow, fpow, opts)</td>
	<td class="summary">Set the tuning parameters.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:vanish">tdb:vanish</a>&nbsp;()</td>
	<td class="summary">Remove all records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdb:vsiz">tdb:vsiz</a>&nbsp;(pkey)</td>
	<td class="summary">Get the size of the value of a record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:addcond">tdbqry:addcond</a>&nbsp;(name, op, expr)</td>
	<td class="summary">Add a narrowing condition.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:hint">tdbqry:hint</a>&nbsp;()</td>
	<td class="summary">Get the hint of a query object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:kwic">tdbqry:kwic</a>&nbsp;(cols, name, width, opts)</td>
	<td class="summary">Generate keyword-in-context strings.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:metasearch">tdbqry:metasearch</a>&nbsp;(others, type)</td>
	<td class="summary">Retrieve records with multiple query objects and get the set of the result.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:proc">tdbqry:proc</a>&nbsp;()</td>
	<td class="summary">Process each corresponding record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:search">tdbqry:search</a>&nbsp;()</td>
	<td class="summary">Execute the search.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:searchout">tdbqry:searchout</a>&nbsp;()</td>
	<td class="summary">Remove each corresponding record.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:setlimit">tdbqry:setlimit</a>&nbsp;(max, skip)</td>
	<td class="summary">Set the maximum number of records of the result.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tdbqry:setorder">tdbqry:setorder</a>&nbsp;(name, type)</td>
	<td class="summary">Set the order of the result.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.adbnew">tokyocabinet.adbnew</a>&nbsp;()</td>
	<td class="summary">Create an abstract database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.bdbcurnew">tokyocabinet.bdbcurnew</a>&nbsp;(bdb)</td>
	<td class="summary">Create a cursor object of a B+ tree database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.bdbnew">tokyocabinet.bdbnew</a>&nbsp;()</td>
	<td class="summary">Create a B+ tree database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.bit">tokyocabinet.bit</a>&nbsp;(mode, num, aux)</td>
	<td class="summary">Perform bit operation of an integer.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.chdir">tokyocabinet.chdir</a>&nbsp;(path)</td>
	<td class="summary">Change the current working directory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.codec">tokyocabinet.codec</a>&nbsp;(mode, str)</td>
	<td class="summary">Encode or decode a string.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.dist">tokyocabinet.dist</a>&nbsp;(astr, bstr, isutf)</td>
	<td class="summary">Calculate the edit distance of two UTF-8 strings.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.fdbnew">tokyocabinet.fdbnew</a>&nbsp;()</td>
	<td class="summary">Create a fixed-length database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.glob">tokyocabinet.glob</a>&nbsp;(pattern)</td>
	<td class="summary">Find pathnames matching a pattern.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.hash">tokyocabinet.hash</a>&nbsp;(mode, str)</td>
	<td class="summary">Get the hash value of a string.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.hdbnew">tokyocabinet.hdbnew</a>&nbsp;()</td>
	<td class="summary">Create a hash database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.isect">tokyocabinet.isect</a>&nbsp;(ary, ...)</td>
	<td class="summary">Calculate the intersection set of arrays.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.mkdir">tokyocabinet.mkdir</a>&nbsp;(path)</td>
	<td class="summary">Create a directory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.pack">tokyocabinet.pack</a>&nbsp;(format, ary, ...)</td>
	<td class="summary">Serialize an array of numbers into a string.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.regex">tokyocabinet.regex</a>&nbsp;(str, pattern, alt)</td>
	<td class="summary">Perform pattern matching or replacement with regular expressions.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.remove">tokyocabinet.remove</a>&nbsp;(path)</td>
	<td class="summary">Remove a file or a directory and its sub ones recursively.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.sleep">tokyocabinet.sleep</a>&nbsp;(sec)</td>
	<td class="summary">Suspend execution for the specified interval.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.split">tokyocabinet.split</a>&nbsp;(str, delims)</td>
	<td class="summary">Split a string into substrings.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.stat">tokyocabinet.stat</a>&nbsp;(path)</td>
	<td class="summary">Get the status of a file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.tablenew">tokyocabinet.tablenew</a>&nbsp;(anum, rnum)</td>
	<td class="summary">Create a table with specifying the number of array elements and the number of hash records.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.tdbnew">tokyocabinet.tdbnew</a>&nbsp;()</td>
	<td class="summary">Create a table database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.tdbqrynew">tokyocabinet.tdbqrynew</a>&nbsp;(tdb)</td>
	<td class="summary">Create a query object of a table database object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.time">tokyocabinet.time</a>&nbsp;()</td>
	<td class="summary">Get the time of day in seconds.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.ucs">tokyocabinet.ucs</a>&nbsp;(data)</td>
	<td class="summary">Convert a UTF-8 string into a UCS-2 array or its inverse.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.union">tokyocabinet.union</a>&nbsp;(ary, ...)</td>
	<td class="summary">Calculate the union set of arrays.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#tokyocabinet.unpack">tokyocabinet.unpack</a>&nbsp;(format, str)</td>
	<td class="summary">Deserialize a binary string into an array of numbers.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="adb:adddouble"></a><strong>adb:adddouble</strong>&nbsp;(key, num)</dt>
<dd>
Add a real number to a record. If the corresponding record exists, the value is treated as a real number and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="adb:addint"></a><strong>adb:addint</strong>&nbsp;(key, num)</dt>
<dd>
Add an integer to a record. If the corresponding record exists, the value is treated as an integer and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="adb:close"></a><strong>adb:close</strong>&nbsp;()</dt>
<dd>
Close the database. Update of a database is assured to be written when the database is closed.  If a writer opens a database but does not close it appropriately, the database will be broken.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:copy"></a><strong>adb:copy</strong>&nbsp;(path)</dt>
<dd>
Copy the database file. The database file is assured to be kept synchronized and not modified while the copying or executing operation is in progress.  So, this method is useful to create a backup file of the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the destination file.  If it begins with `@', the trailing substring is executed as a command line.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if the executed command returns non-zero code.



</dd>




<dt><a name="adb:foreach"></a><strong>adb:foreach</strong>&nbsp;(func)</dt>
<dd>
Process each record atomically.


<h3>Parameters</h3>
<ul>
	
	<li>
	  func: the iterator function called for each record.  It receives two parameters of the key and the value, and returns true to continue iteration or false to stop iteration.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:fwmkeys"></a><strong>adb:fwmkeys</strong>&nbsp;(prefix, max)</dt>
<dd>
Get forward matching keys. This function may be very slow because every key in the database is scanned.


<h3>Parameters</h3>
<ul>
	
	<li>
	  prefix: the prefix of the corresponding keys.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="adb:get"></a><strong>adb:get</strong>&nbsp;(key)</dt>
<dd>
Retrieve a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the value of the corresponding record.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="adb:iterinit"></a><strong>adb:iterinit</strong>&nbsp;()</dt>
<dd>
Initialize the iterator. The iterator is used in order to access the key of every record stored in a database.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:iternext"></a><strong>adb:iternext</strong>&nbsp;()</dt>
<dd>
Get the next key of the iterator. It is possible to access every record by iteration of calling this method.  It is allowed to update or remove records whose keys are fetched while the iteration.  However, it is not assured if updating the database is occurred while the iteration.  Besides, the order of this traversal access method is arbitrary, so it is not assured that the order of storing matches the one of the traversal access.





<h3>Return value:</h3>
If successful, it is the next key, else, it is `nil'.  `nil' is returned when no record is to be get out of the iterator.



</dd>




<dt><a name="adb:open"></a><strong>adb:open</strong>&nbsp;(name)</dt>
<dd>
Open a database.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: the name of the database.  If it is "*", the database will be an on-memory hash database.  If it is "+", the database will be an on-memory tree database.  If its suffix is ".tch", the database will be a hash database.  If its suffix is ".tcb", the database will be a B+ tree database.  If its suffix is ".tcf", the database will be a fixed-length database.  If its suffix is ".tct", the database will be a table database.  Otherwise, this method fails.  Tuning parameters can trail the name, separated by "#".  Each parameter is composed of the name and the value, separated by "=".  On-memory hash database supports "bnum", "capnum", and "capsiz".  On-memory tree database supports "capnum" and "capsiz".  Hash database supports "mode", "bnum", "apow", "fpow", "opts", "rcnum", and "xmsiz".  B+ tree database supports "mode", "lmemb", "nmemb", "bnum", "apow", "fpow", "opts", "lcnum", "ncnum", and "xmsiz".  Fixed-length database supports "mode", "width", and "limsiz".  Table database supports "mode", "bnum", "apow", "fpow", "opts", "rcnum", "lcnum", "ncnum", "xmsiz", and "idx".  The tuning parameter "capnum" specifies the capacity number of records.  "capsiz" specifies the capacity size of using memory.  Records spilled the capacity are removed by the storing order.  "mode" can contain "w" of writer, "r" of reader, "c" of creating, "t" of truncating, "e" of no locking, and "f" of non-blocking lock.  The default mode is relevant to "wc".  "opts" can contains "l" of large option, "d" of Deflate option, "b" of BZIP2 option, and "t" of TCBS option.  "idx" specifies the column name of an index and its type separated by ":".  For example, "casket.tch#bnum=1000000#opts=ld" means that the name of the database file is "casket.tch", and the bucket number is 1000000, and the options are large and Deflate.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:optimize"></a><strong>adb:optimize</strong>&nbsp;(params)</dt>
<dd>
Optimize the storage.


<h3>Parameters</h3>
<ul>
	
	<li>
	  params: the string of the tuning parameters, which works as with the tuning of parameters the method `open'.  If it is not defined, it is not used.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:out"></a><strong>adb:out</strong>&nbsp;(key)</dt>
<dd>
Remove a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:pairs"></a><strong>adb:pairs</strong>&nbsp;()</dt>
<dd>
Get the iterator for generic "for" loop.





<h3>Return value:</h3>
plural values; the iterator to retrieve the key and the value of the next record, the table itself, and nil.



</dd>




<dt><a name="adb:path"></a><strong>adb:path</strong>&nbsp;()</dt>
<dd>
Get the path of the database file.





<h3>Return value:</h3>
the path of the database file or `nil' if the object does not connect to any database file.  "*" stands for on-memory hash database.  "+" stands for on-memory tree database.



</dd>




<dt><a name="adb:put"></a><strong>adb:put</strong>&nbsp;(key, value)</dt>
<dd>
Store a record. If a record with the same key exists in the database, it is overwritten.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:putcat"></a><strong>adb:putcat</strong>&nbsp;(key, value)</dt>
<dd>
Concatenate a value at the end of the existing record. If there is no corresponding record, a new record is created.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:putkeep"></a><strong>adb:putkeep</strong>&nbsp;(key, value)</dt>
<dd>
Store a new record. If a record with the same key exists in the database, this method has no effect.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:rnum"></a><strong>adb:rnum</strong>&nbsp;()</dt>
<dd>
Get the number of records.





<h3>Return value:</h3>
the number of records or 0 if the object does not connect to any database file.



</dd>




<dt><a name="adb:size"></a><strong>adb:size</strong>&nbsp;()</dt>
<dd>
Get the size of the database.





<h3>Return value:</h3>
the size of the database file or 0 if the object does not connect to any database file.



</dd>




<dt><a name="adb:sync"></a><strong>adb:sync</strong>&nbsp;()</dt>
<dd>
Synchronize updated contents with the file and the device. This method is useful when another process connects the same database file.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:tranabort"></a><strong>adb:tranabort</strong>&nbsp;()</dt>
<dd>
Abort the transaction. Update in the transaction is discarded when it is aborted.  The state of the database is rollbacked to before transaction.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:tranbegin"></a><strong>adb:tranbegin</strong>&nbsp;()</dt>
<dd>
Begin the transaction. The database is locked by the thread while the transaction so that only one transaction can be activated with a database object at the same time.  Thus, the serializable isolation level is assumed if every database operation is performed in the transaction.  All updated regions are kept track of by write ahead logging while the transaction.  If the database is closed during transaction, the transaction is aborted implicitly.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:trancommit"></a><strong>adb:trancommit</strong>&nbsp;()</dt>
<dd>
Commit the transaction. Update in the transaction is fixed when it is committed successfully.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:vanish"></a><strong>adb:vanish</strong>&nbsp;()</dt>
<dd>
Remove all records.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="adb:vsiz"></a><strong>adb:vsiz</strong>&nbsp;(key)</dt>
<dd>
Get the size of the value of a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the size of the value of the corresponding record, else, it is -1.



</dd>




<dt><a name="bdb:adddouble"></a><strong>bdb:adddouble</strong>&nbsp;(key, num)</dt>
<dd>
Add a real number to a record. If the corresponding record exists, the value is treated as a real number and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="bdb:addint"></a><strong>bdb:addint</strong>&nbsp;(key, num)</dt>
<dd>
Add an integer to a record. If the corresponding record exists, the value is treated as an integer and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="bdb:close"></a><strong>bdb:close</strong>&nbsp;()</dt>
<dd>
Close the database file. Update of a database is assured to be written when the database is closed.  If a writer opens a database but does not close it appropriately, the database will be broken.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:copy"></a><strong>bdb:copy</strong>&nbsp;(path)</dt>
<dd>
Copy the database file. The database file is assured to be kept synchronized and not modified while the copying or executing operation is in progress.  So, this method is useful to create a backup file of the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the destination file.  If it begins with `@', the trailing substring is executed as a command line.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if the executed command returns non-zero code.



</dd>




<dt><a name="bdb:ecode"></a><strong>bdb:ecode</strong>&nbsp;()</dt>
<dd>
Get the last happened error code.





<h3>Return value:</h3>
the last happened error code.  The following error codes are defined: `bdb.ESUCCESS' for success, `bdb.ETHREAD' for threading error, `bdb.EINVALID' for invalid operation, `bdb.ENOFILE' for file not found, `bdb.ENOPERM' for no permission, `bdb.EMETA' for invalid meta data, `bdb.ERHEAD' for invalid record header, `bdb.EOPEN' for open error, `bdb.ECLOSE' for close error, `bdb.ETRUNC' for trunc error, `bdb.ESYNC' for sync error, `bdb.ESTAT' for stat error, `bdb.ESEEK' for seek error, `bdb.EREAD' for read error, `bdb.EWRITE' for write error, `bdb.EMMAP' for mmap error, `bdb.ELOCK' for lock error, `bdb.EUNLINK' for unlink error, `bdb.ERENAME' for rename error, `bdb.EMKDIR' for mkdir error, `bdb.ERMDIR' for rmdir error, `bdb.EKEEP' for existing record, `bdb.ENOREC' for no record found, and `bdb.EMISC' for miscellaneous error.



</dd>




<dt><a name="bdb:errmsg"></a><strong>bdb:errmsg</strong>&nbsp;(ecode)</dt>
<dd>
Get the message string corresponding to an error code.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ecode: the error code.  If it is not defined or negative, the last happened error code is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
the message string of the error code.



</dd>




<dt><a name="bdb:foreach"></a><strong>bdb:foreach</strong>&nbsp;(func)</dt>
<dd>
Process each record atomically.


<h3>Parameters</h3>
<ul>
	
	<li>
	  func: the iterator function called for each record.  It receives two parameters of the key and the value, and returns true to continue iteration or false to stop iteration.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:fsiz"></a><strong>bdb:fsiz</strong>&nbsp;()</dt>
<dd>
Get the size of the database file.





<h3>Return value:</h3>
the size of the database file or 0 if the object does not connect to any database file.



</dd>




<dt><a name="bdb:fwmkeys"></a><strong>bdb:fwmkeys</strong>&nbsp;(prefix, max)</dt>
<dd>
Get forward matching keys.


<h3>Parameters</h3>
<ul>
	
	<li>
	  prefix: the prefix of the corresponding keys.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is not defined or negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="bdb:get"></a><strong>bdb:get</strong>&nbsp;(key)</dt>
<dd>
Retrieve a record. If the key of duplicated records is specified, the first one is selected.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the value of the corresponding record.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="bdb:getlist"></a><strong>bdb:getlist</strong>&nbsp;(key)</dt>
<dd>
Retrieve records.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is an array of the values of the corresponding records.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="bdb:open"></a><strong>bdb:open</strong>&nbsp;(path, omode)</dt>
<dd>
Open a database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the database file.
	</li>
	
	<li>
	  omode: the connection mode: `bdb.OWRITER' as a writer, `bdb.OREADER' as a reader.  If the mode is `bdb.OWRITER', the following may be added by bitwise-or: `bdb.OCREAT', which means it creates a new database if not exist, `bdb.OTRUNC', which means it creates a new database regardless if one exists, `bdb.OTSYNC', which means every transaction synchronizes updated contents with the device.  Both of `bdb.OREADER' and `bdb.OWRITER' can be added to by bitwise-or: `bdb.ONOLCK', which means it opens the database file without file locking, or `bdb.OLCKNB', which means locking is performed without blocking.  If it is not defined or `bdb.OREADER' is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:optimize"></a><strong>bdb:optimize</strong>&nbsp;(lmemb, nmemb, bnum, apow, fpow, opts)</dt>
<dd>
Optimize the database file. This method is useful to reduce the size of the database file with data fragmentation by successive updating.


<h3>Parameters</h3>
<ul>
	
	<li>
	  lmemb: the number of members in each leaf page.  If it is not defined or not more than 0, the current setting is not changed.
	</li>
	
	<li>
	  nmemb: the number of members in each non-leaf page.  If it is not defined or not more than 0, the current setting is not changed.
	</li>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is two times of the number of pages.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  opts: options by bitwise-or: `bdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `bdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `bdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `bdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined or 0xff, the current setting is not changed.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:out"></a><strong>bdb:out</strong>&nbsp;(key)</dt>
<dd>
Remove a record. If the key of duplicated records is specified, the first one is selected.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:outlist"></a><strong>bdb:outlist</strong>&nbsp;(key)</dt>
<dd>
Remove records. If the key of duplicated records is specified, all of them are removed.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:pairs"></a><strong>bdb:pairs</strong>&nbsp;()</dt>
<dd>
Get the iterator for generic "for" loop.





<h3>Return value:</h3>
plural values; the iterator to retrieve the key and the value of the next record, the cursor for iteration, and nil.



</dd>




<dt><a name="bdb:path"></a><strong>bdb:path</strong>&nbsp;()</dt>
<dd>
Get the path of the database file.





<h3>Return value:</h3>
the path of the database file or `nil' if the object does not connect to any database file.



</dd>




<dt><a name="bdb:put"></a><strong>bdb:put</strong>&nbsp;(key, value)</dt>
<dd>
Store a record. If a record with the same key exists in the database, it is overwritten.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:putcat"></a><strong>bdb:putcat</strong>&nbsp;(key, value)</dt>
<dd>
Concatenate a value at the end of the existing record. If there is no corresponding record, a new record is created.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:putdup"></a><strong>bdb:putdup</strong>&nbsp;(key, value)</dt>
<dd>
Store a record with allowing duplication of keys. If a record with the same key exists in the database, the new record is placed after the existing one.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:putkeep"></a><strong>bdb:putkeep</strong>&nbsp;(key, value)</dt>
<dd>
Store a new record. If a record with the same key exists in the database, this method has no effect.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:putlist"></a><strong>bdb:putlist</strong>&nbsp;(key, values)</dt>
<dd>
Store records with allowing duplication of keys. If a record with the same key exists in the database, the new records are placed after the existing one.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  values: an array of the values.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:range"></a><strong>bdb:range</strong>&nbsp;(bkey, binc, ekey, einc, max)</dt>
<dd>
Get keys of ranged records.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bkey: the key of the beginning border.  If it is not defined, the first record is specified.
	</li>
	
	<li>
	  binc: whether the beginning border is inclusive or not.  If it is not defined, false is specified.
	</li>
	
	<li>
	  ekey: the key of the ending border.  If it is not defined, the last record is specified.
	</li>
	
	<li>
	  einc: whether the ending border is inclusive or not.  If it is not defined, false is specified.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is not defined or negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="bdb:rnum"></a><strong>bdb:rnum</strong>&nbsp;()</dt>
<dd>
Get the number of records.





<h3>Return value:</h3>
the number of records or 0 if the object does not connect to any database file.



</dd>




<dt><a name="bdb:setcache"></a><strong>bdb:setcache</strong>&nbsp;(lcnum, ncnum)</dt>
<dd>
Set the caching parameters. The tuning parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  lcnum: the maximum number of leaf nodes to be cached.  If it is not defined or not more than 0, the default value is specified.  The default value is 1024.
	</li>
	
	<li>
	  ncnum: the maximum number of non-leaf nodes to be cached.  If it is not defined or not more than 0, the default value is specified.  The default value is 512.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:setcmpfunc"></a><strong>bdb:setcmpfunc</strong>&nbsp;(cmp)</dt>
<dd>
Set the custom comparison function. The default comparison function compares keys of two records by lexical order.  The constants `bdb.CMPLEXICAL' (dafault), `bdb.CMPDECIMAL', `bdb.CMPINT32', and `bdb.CMPINT64' are built-in.  Note that the comparison function should be set before the database is opened.  Moreover, user-defined comparison functions should be set every time the database is being opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  cmp: the custom comparison function.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:setdfunit"></a><strong>bdb:setdfunit</strong>&nbsp;(dfunit)</dt>
<dd>
Set the unit step number of auto defragmentation.


<h3>Parameters</h3>
<ul>
	
	<li>
	  dfunit: the unit step number.  If it is not more than 0, the auto defragmentation is disabled.  It is disabled by default.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:setxmsiz"></a><strong>bdb:setxmsiz</strong>&nbsp;(xmsiz)</dt>
<dd>
Set the size of the extra mapped memory. The mapping parameters should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  xmsiz: the size of the extra mapped memory.  If it is not defined or not more than 0, the extra mapped memory is disabled.  It is disabled by default.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:sync"></a><strong>bdb:sync</strong>&nbsp;()</dt>
<dd>
Synchronize updated contents with the file and the device. This method is useful when another process connects the same database file.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:tranabort"></a><strong>bdb:tranabort</strong>&nbsp;()</dt>
<dd>
Abort the transaction. Update in the transaction is discarded when it is aborted.  The state of the database is rollbacked to before transaction.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:tranbegin"></a><strong>bdb:tranbegin</strong>&nbsp;()</dt>
<dd>
Begin the transaction. The database is locked by the thread while the transaction so that only one transaction can be activated with a database object at the same time.  Thus, the serializable isolation level is assumed if every database operation is performed in the transaction.  Because all pages are cached on memory while the transaction, the amount of referred records is limited by the memory capacity.  If the database is closed during transaction, the transaction is aborted implicitly.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:trancommit"></a><strong>bdb:trancommit</strong>&nbsp;()</dt>
<dd>
Commit the transaction. Update in the transaction is fixed when it is committed successfully.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:tune"></a><strong>bdb:tune</strong>&nbsp;(lmemb, nmemb, bnum, apow, fpow, opts)</dt>
<dd>
Set the tuning parameters. The tuning parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  lmemb: the number of members in each leaf page.  If it is not defined or not more than 0, the default value is specified.  The default value is 128.
	</li>
	
	<li>
	  nmemb: the number of members in each non-leaf page.  If it is not defined or not more than 0, the default value is specified.  The default value is 256.
	</li>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is 32749.  Suggested size of the bucket array is about from 1 to 4 times of the number of all pages to be stored.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 4 standing for 2^8=256.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 10 standing for 2^10=1024.
	</li>
	
	<li>
	  opts: options by bitwise-or: `bdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `bdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `bdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `bdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined, no option is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:vanish"></a><strong>bdb:vanish</strong>&nbsp;()</dt>
<dd>
Remove all records.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="bdb:vnum"></a><strong>bdb:vnum</strong>&nbsp;(key)</dt>
<dd>
Get the number of records corresponding a key.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the number of the corresponding records, else, it is 0.



</dd>




<dt><a name="bdb:vsiz"></a><strong>bdb:vsiz</strong>&nbsp;(key)</dt>
<dd>
Get the size of the value of a record. If the key of duplicated records is specified, the first one is selected.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the size of the value of the corresponding record, else, it is -1.



</dd>




<dt><a name="bdbcur:first"></a><strong>bdbcur:first</strong>&nbsp;()</dt>
<dd>
Move the cursor to the first record.





<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if there is no record in the database.



</dd>




<dt><a name="bdbcur:jump"></a><strong>bdbcur:jump</strong>&nbsp;(key)</dt>
<dd>
Move the cursor to the front of records corresponding a key. The cursor is set to the first record corresponding the key or the next substitute if completely matching record does not exist.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if there is no record corresponding the condition.



</dd>




<dt><a name="bdbcur:key"></a><strong>bdbcur:key</strong>&nbsp;()</dt>
<dd>
Get the key of the record where the cursor is.





<h3>Return value:</h3>
If successful, it is the key, else, it is `null'.  'null' is returned when the cursor is at invalid position.



</dd>




<dt><a name="bdbcur:last"></a><strong>bdbcur:last</strong>&nbsp;()</dt>
<dd>
Move the cursor to the last record.





<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if there is no record in the database.



</dd>




<dt><a name="bdbcur:next"></a><strong>bdbcur:next</strong>&nbsp;()</dt>
<dd>
Move the cursor to the next record.





<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if there is no next record.



</dd>




<dt><a name="bdbcur:out"></a><strong>bdbcur:out</strong>&nbsp;()</dt>
<dd>
Remove the record where the cursor is. After deletion, the cursor is moved to the next record if possible.





<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned when the cursor is at invalid position.



</dd>




<dt><a name="bdbcur:prev"></a><strong>bdbcur:prev</strong>&nbsp;()</dt>
<dd>
Move the cursor to the previous record.





<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if there is no previous record.



</dd>




<dt><a name="bdbcur:put"></a><strong>bdbcur:put</strong>&nbsp;(value, cpmode)</dt>
<dd>
Insert a record around the cursor. After insertion, the cursor is moved to the inserted record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  value: the value.
	</li>
	
	<li>
	  cpmode: detail adjustment: `bdbcur.CPCURRENT', which means that the value of the current record is overwritten, `bdbcur.CPBEFORE', which means that the new record is inserted before the current record, `bdbcur.CPAFTER', which means that the new record is inserted after the current record.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned when the cursor is at invalid position.



</dd>




<dt><a name="bdbcur:val"></a><strong>bdbcur:val</strong>&nbsp;()</dt>
<dd>
Get the value of the record where the cursor is.





<h3>Return value:</h3>
If successful, it is the value, else, it is `null'.  'null' is returned when the cursor is at invalid position.



</dd>




<dt><a name="fdb:adddouble"></a><strong>fdb:adddouble</strong>&nbsp;(key, num)</dt>
<dd>
Add a real number to a record. If the corresponding record exists, the value is treated as a real number and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "prev", the number less by one than the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.  If it is "next", the number greater by one than the maximum ID number of existing records is specified.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="fdb:addint"></a><strong>fdb:addint</strong>&nbsp;(key, num)</dt>
<dd>
Add an integer to a record. If the corresponding record exists, the value is treated as an integer and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "prev", the number less by one than the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.  If it is "next", the number greater by one than the maximum ID number of existing records is specified.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="fdb:close"></a><strong>fdb:close</strong>&nbsp;()</dt>
<dd>
Close the database file. Update of a database is assured to be written when the database is closed.  If a writer opens a database but does not close it appropriately, the database will be broken.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:copy"></a><strong>fdb:copy</strong>&nbsp;(path)</dt>
<dd>
Copy the database file. The database file is assured to be kept synchronized and not modified while the copying or executing operation is in progress.  So, this method is useful to create a backup file of the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the destination file.  If it begins with `@', the trailing substring is executed as a command line.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if the executed command returns non-zero code.



</dd>




<dt><a name="fdb:ecode"></a><strong>fdb:ecode</strong>&nbsp;()</dt>
<dd>
Get the last happened error code.





<h3>Return value:</h3>
the last happened error code.  The following error codes are defined: `fdb.ESUCCESS' for success, `fdb.ETHREAD' for threading error, `fdb.EINVALID' for invalid operation, `fdb.ENOFILE' for file not found, `fdb.ENOPERM' for no permission, `fdb.EMETA' for invalid meta data, `fdb.ERHEAD' for invalid record header, `fdb.EOPEN' for open error, `fdb.ECLOSE' for close error, `fdb.ETRUNC' for trunc error, `fdb.ESYNC' for sync error, `fdb.ESTAT' for stat error, `fdb.ESEEK' for seek error, `fdb.EREAD' for read error, `fdb.EWRITE' for write error, `fdb.EMMAP' for mmap error, `fdb.ELOCK' for lock error, `fdb.EUNLINK' for unlink error, `fdb.ERENAME' for rename error, `fdb.EMKDIR' for mkdir error, `fdb.ERMDIR' for rmdir error, `fdb.EKEEP' for existing record, `fdb.ENOREC' for no record found, and `fdb.EMISC' for miscellaneous error.



</dd>




<dt><a name="fdb:errmsg"></a><strong>fdb:errmsg</strong>&nbsp;(ecode)</dt>
<dd>
Get the message string corresponding to an error code.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ecode: the error code.  If it is not defined or negative, the last happened error code is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
the message string of the error code.



</dd>




<dt><a name="fdb:foreach"></a><strong>fdb:foreach</strong>&nbsp;(func)</dt>
<dd>
Process each record atomically.


<h3>Parameters</h3>
<ul>
	
	<li>
	  func: the iterator function called for each record.  It receives two parameters of the key and the value, and returns true to continue iteration or false to stop iteration.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:fsiz"></a><strong>fdb:fsiz</strong>&nbsp;()</dt>
<dd>
Get the size of the database file.





<h3>Return value:</h3>
the size of the database file or 0 if the object does not connect to any database file.



</dd>




<dt><a name="fdb:get"></a><strong>fdb:get</strong>&nbsp;(key)</dt>
<dd>
Retrieve a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the value of the corresponding record.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="fdb:iterinit"></a><strong>fdb:iterinit</strong>&nbsp;()</dt>
<dd>
Initialize the iterator. The iterator is used in order to access the key of every record stored in a database.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:iternext"></a><strong>fdb:iternext</strong>&nbsp;()</dt>
<dd>
Get the next key of the iterator. It is possible to access every record by iteration of calling this function.  It is allowed to update or remove records whose keys are fetched while the iteration.  The order of this traversal access method is ascending of the ID number.





<h3>Return value:</h3>
If successful, it is the next key, else, it is `nil'.  `nil' is returned when no record is to be get out of the iterator.



</dd>




<dt><a name="fdb:open"></a><strong>fdb:open</strong>&nbsp;(path, omode)</dt>
<dd>
Open a database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the database file.
	</li>
	
	<li>
	  omode: the connection mode: `fdb.OWRITER' as a writer, `fdb.OREADER' as a reader.  If the mode is `fdb.OWRITER', the following may be added by bitwise-or: `fdb.OCREAT', which means it creates a new database if not exist, `fdb.OTRUNC', which means it creates a new database regardless if one exists.  Both of `fdb.OREADER' and `fdb.OWRITER' can be added to by bitwise-or: `fdb.ONOLCK', which means it opens the database file without file locking, or `fdb.OLCKNB', which means locking is performed without blocking.  If it is not defined, `bdb.OREADER' is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:optimize"></a><strong>fdb:optimize</strong>&nbsp;(width, limsiz)</dt>
<dd>
Optimize the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  width: the width of the value of each record.  If it is not defined or not more than 0, the current setting is not changed.
	</li>
	
	<li>
	  limsiz: the limit size of the database file.  If it is not defined or not more than 0, the current setting is not changed.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:out"></a><strong>fdb:out</strong>&nbsp;(key)</dt>
<dd>
Remove a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:pairs"></a><strong>fdb:pairs</strong>&nbsp;()</dt>
<dd>
Get the iterator for generic "for" loop.





<h3>Return value:</h3>
plural values; the iterator to retrieve the key and the value of the next record, the table itself, and nil.



</dd>




<dt><a name="fdb:path"></a><strong>fdb:path</strong>&nbsp;()</dt>
<dd>
Get the path of the database file.





<h3>Return value:</h3>
the path of the database file or `nil' if the object does not connect to any database file.



</dd>




<dt><a name="fdb:put"></a><strong>fdb:put</strong>&nbsp;(key, value)</dt>
<dd>
Store a record. If a record with the same key exists in the database, it is overwritten.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "prev", the number less by one than the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.  If it is "next", the number greater by one than the maximum ID number of existing records is specified.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:putcat"></a><strong>fdb:putcat</strong>&nbsp;(key, value)</dt>
<dd>
Concatenate a value at the end of the existing record. If there is no corresponding record, a new record is created.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "prev", the number less by one than the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.  If it is "next", the number greater by one than the maximum ID number of existing records is specified.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:putkeep"></a><strong>fdb:putkeep</strong>&nbsp;(key, value)</dt>
<dd>
Store a new record. If a record with the same key exists in the database, this method has no effect.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "prev", the number less by one than the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.  If it is "next", the number greater by one than the maximum ID number of existing records is specified.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:range"></a><strong>fdb:range</strong>&nbsp;(interval, max)</dt>
<dd>
Get keys with an interval notation.


<h3>Parameters</h3>
<ul>
	
	<li>
	  interval: the interval notation.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is not defined or negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
a array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="fdb:rnum"></a><strong>fdb:rnum</strong>&nbsp;()</dt>
<dd>
Get the number of records.





<h3>Return value:</h3>
the number of records or 0 if the object does not connect to any database file.



</dd>




<dt><a name="fdb:sync"></a><strong>fdb:sync</strong>&nbsp;()</dt>
<dd>
Synchronize updated contents with the file and the device. This method is useful when another process connects the same database file.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:tranabort"></a><strong>fdb:tranabort</strong>&nbsp;()</dt>
<dd>
Abort the transaction. Update in the transaction is discarded when it is aborted.  The state of the database is rollbacked to before transaction.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:tranbegin"></a><strong>fdb:tranbegin</strong>&nbsp;()</dt>
<dd>
Begin the transaction. The database is locked by the thread while the transaction so that only one transaction can be activated with a database object at the same time.  Thus, the serializable isolation level is assumed if every database operation is performed in the transaction.  All updated regions are kept track of by write ahead logging while the transaction.  If the database is closed during transaction, the transaction is aborted implicitly.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:trancommit"></a><strong>fdb:trancommit</strong>&nbsp;()</dt>
<dd>
Commit the transaction. Update in the transaction is fixed when it is committed successfully.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:tune"></a><strong>fdb:tune</strong>&nbsp;(width, limsiz)</dt>
<dd>
Set the tuning parameters. The tuning parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  width: the width of the value of each record.  If it is not defined or not more than 0, the default value is specified.  The default value is 255.
	</li>
	
	<li>
	  limsiz: the limit size of the database file.  If it is not defined or not more than 0, the default value is specified.  The default value is 268435456.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:vanish"></a><strong>fdb:vanish</strong>&nbsp;()</dt>
<dd>
Remove all records.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="fdb:vsiz"></a><strong>fdb:vsiz</strong>&nbsp;(key)</dt>
<dd>
Get the size of the value of a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.  It should be more than 0.  If it is "min", the minimum ID number of existing records is specified.  If it is "max", the maximum ID number of existing records is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the size of the value of the corresponding record, else, it is -1.



</dd>




<dt><a name="hdb:adddouble"></a><strong>hdb:adddouble</strong>&nbsp;(key, num)</dt>
<dd>
Add a real number to a record. If the corresponding record exists, the value is treated as a real number and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="hdb:addint"></a><strong>hdb:addint</strong>&nbsp;(key, num)</dt>
<dd>
Add an integer to a record. If the corresponding record exists, the value is treated as an integer and is added to.  If no record corresponds, a new record of the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="hdb:close"></a><strong>hdb:close</strong>&nbsp;()</dt>
<dd>
Close the database file. Update of a database is assured to be written when the database is closed.  If a writer opens a database but does not close it appropriately, the database will be broken.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:copy"></a><strong>hdb:copy</strong>&nbsp;(path)</dt>
<dd>
Copy the database file. The database file is assured to be kept synchronized and not modified while the copying or executing operation is in progress.  So, this method is useful to create a backup file of the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the destination file.  If it begins with `@', the trailing substring is executed as a command line.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if the executed command returns non-zero code.



</dd>




<dt><a name="hdb:ecode"></a><strong>hdb:ecode</strong>&nbsp;()</dt>
<dd>
Get the last happened error code.





<h3>Return value:</h3>
the last happened error code.  The following error codes are defined: `hdb.ESUCCESS' for success, `hdb.ETHREAD' for threading error, `hdb.EINVALID' for invalid operation, `hdb.ENOFILE' for file not found, `hdb.ENOPERM' for no permission, `hdb.EMETA' for invalid meta data, `hdb.ERHEAD' for invalid record header, `hdb.EOPEN' for open error, `hdb.ECLOSE' for close error, `hdb.ETRUNC' for trunc error, `hdb.ESYNC' for sync error, `hdb.ESTAT' for stat error, `hdb.ESEEK' for seek error, `hdb.EREAD' for read error, `hdb.EWRITE' for write error, `hdb.EMMAP' for mmap error, `hdb.ELOCK' for lock error, `hdb.EUNLINK' for unlink error, `hdb.ERENAME' for rename error, `hdb.EMKDIR' for mkdir error, `hdb.ERMDIR' for rmdir error, `hdb.EKEEP' for existing record, `hdb.ENOREC' for no record found, and `hdb.EMISC' for miscellaneous error.



</dd>




<dt><a name="hdb:errmsg"></a><strong>hdb:errmsg</strong>&nbsp;(ecode)</dt>
<dd>
Get the message string corresponding to an error code.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ecode: the error code.  If it is not defined or negative, the last happened error code is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
the message string of the error code.



</dd>




<dt><a name="hdb:foreach"></a><strong>hdb:foreach</strong>&nbsp;(func)</dt>
<dd>
Process each record atomically.


<h3>Parameters</h3>
<ul>
	
	<li>
	  func: the iterator function called for each record.  It receives two parameters of the key and the value, and returns true to continue iteration or false to stop iteration.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:fsiz"></a><strong>hdb:fsiz</strong>&nbsp;()</dt>
<dd>
Get the size of the database file.





<h3>Return value:</h3>
the size of the database file or 0 if the object does not connect to any database file.



</dd>




<dt><a name="hdb:fwmkeys"></a><strong>hdb:fwmkeys</strong>&nbsp;(prefix, max)</dt>
<dd>
Get forward matching keys. This function may be very slow because every key in the database is scanned.


<h3>Parameters</h3>
<ul>
	
	<li>
	  prefix: the prefix of the corresponding keys.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="hdb:get"></a><strong>hdb:get</strong>&nbsp;(key)</dt>
<dd>
Retrieve a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the value of the corresponding record.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="hdb:iterinit"></a><strong>hdb:iterinit</strong>&nbsp;()</dt>
<dd>
Initialize the iterator. The iterator is used in order to access the key of every record stored in a database.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:iternext"></a><strong>hdb:iternext</strong>&nbsp;()</dt>
<dd>
Get the next key of the iterator. It is possible to access every record by iteration of calling this method.  It is allowed to update or remove records whose keys are fetched while the iteration.  However, it is not assured if updating the database is occurred while the iteration.  Besides, the order of this traversal access method is arbitrary, so it is not assured that the order of storing matches the one of the traversal access.





<h3>Return value:</h3>
If successful, it is the next key, else, it is `nil'.  `nil' is returned when no record is to be get out of the iterator.



</dd>




<dt><a name="hdb:open"></a><strong>hdb:open</strong>&nbsp;(path, omode)</dt>
<dd>
Open a database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the database file.
	</li>
	
	<li>
	  omode: the connection mode: `hdb.OWRITER' as a writer, `hdb.OREADER' as a reader.  If the mode is `hdb.OWRITER', the following may be added by bitwise-or: `hdb.OCREAT', which means it creates a new database if not exist, `hdb.OTRUNC', which means it creates a new database regardless if one exists, `hdb.OTSYNC', which means every transaction synchronizes updated contents with the device.  Both of `hdb.OREADER' and `hdb.OWRITER' can be added to by bitwise-or: `hdb.ONOLCK', which means it opens the database file without file locking, or `hdb.OLCKNB', which means locking is performed without blocking.  If it is not defined, `hdb.OREADER' is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:optimize"></a><strong>hdb:optimize</strong>&nbsp;(bnum, apow, fpow, opts)</dt>
<dd>
Optimize the database file. This method is useful to reduce the size of the database file with data fragmentation by successive updating.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is two times of the number of records.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  opts: options by bitwise-or: `hdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `hdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `hdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `hdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined or 0xff, the current setting is not changed.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:out"></a><strong>hdb:out</strong>&nbsp;(key)</dt>
<dd>
Remove a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:pairs"></a><strong>hdb:pairs</strong>&nbsp;()</dt>
<dd>
Get the iterator for generic "for" loop.





<h3>Return value:</h3>
plural values; the iterator to retrieve the key and the value of the next record, the table itself, and nil.



</dd>




<dt><a name="hdb:path"></a><strong>hdb:path</strong>&nbsp;()</dt>
<dd>
Get the path of the database file.





<h3>Return value:</h3>
the path of the database file or `nil' if the object does not connect to any database file.



</dd>




<dt><a name="hdb:put"></a><strong>hdb:put</strong>&nbsp;(key, value)</dt>
<dd>
Store a record. If a record with the same key exists in the database, it is overwritten.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:putasync"></a><strong>hdb:putasync</strong>&nbsp;(key, value)</dt>
<dd>
Store a record in asynchronous fashion. If a record with the same key exists in the database, it is overwritten.  Records passed to this method are accumulated into the inner buffer and wrote into the file at a blast.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:putcat"></a><strong>hdb:putcat</strong>&nbsp;(key, value)</dt>
<dd>
Concatenate a value at the end of the existing record. If there is no corresponding record, a new record is created.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:putkeep"></a><strong>hdb:putkeep</strong>&nbsp;(key, value)</dt>
<dd>
Store a new record. If a record with the same key exists in the database, this method has no effect.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
	<li>
	  value: the value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:rnum"></a><strong>hdb:rnum</strong>&nbsp;()</dt>
<dd>
Get the number of records.





<h3>Return value:</h3>
the number of records or 0 if the object does not connect to any database file.



</dd>




<dt><a name="hdb:setcache"></a><strong>hdb:setcache</strong>&nbsp;(rcnum)</dt>
<dd>
Set the caching parameters. The caching parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  rcnum: the maximum number of records to be cached.  If it is not defined or not more than 0, the record cache is disabled.  It is disabled by default.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:setdfunit"></a><strong>hdb:setdfunit</strong>&nbsp;(dfunit)</dt>
<dd>
Set the unit step number of auto defragmentation.


<h3>Parameters</h3>
<ul>
	
	<li>
	  dfunit: the unit step number.  If it is not more than 0, the auto defragmentation is disabled.  It is disabled by default.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:setxmsiz"></a><strong>hdb:setxmsiz</strong>&nbsp;(xmsiz)</dt>
<dd>
Set the size of the extra mapped memory. The mapping parameters should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  xmsiz: the size of the extra mapped memory.  If it is not defined or not more than 0, the extra mapped memory is disabled.  The default size is 67108864.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:sync"></a><strong>hdb:sync</strong>&nbsp;()</dt>
<dd>
Synchronize updated contents with the file and the device. This method is useful when another process connects the same database file.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:tranabort"></a><strong>hdb:tranabort</strong>&nbsp;()</dt>
<dd>
Abort the transaction. Update in the transaction is discarded when it is aborted.  The state of the database is rollbacked to before transaction.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:tranbegin"></a><strong>hdb:tranbegin</strong>&nbsp;()</dt>
<dd>
Begin the transaction. The database is locked by the thread while the transaction so that only one transaction can be activated with a database object at the same time.  Thus, the serializable isolation level is assumed if every database operation is performed in the transaction.  All updated regions are kept track of by write ahead logging while the transaction.  If the database is closed during transaction, the transaction is aborted implicitly.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:trancommit"></a><strong>hdb:trancommit</strong>&nbsp;()</dt>
<dd>
Commit the transaction. Update in the transaction is fixed when it is committed successfully.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:tune"></a><strong>hdb:tune</strong>&nbsp;(bnum, apow, fpow, opts)</dt>
<dd>
Set the tuning parameters. The tuning parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is 131071.  Suggested size of the bucket array is about from 0.5 to 4 times of the number of all records to be stored.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 4 standing for 2^4=16.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 10 standing for 2^10=1024.
	</li>
	
	<li>
	  opts: options by bitwise-or: `hdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `hdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `hdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `hdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined, no option is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:vanish"></a><strong>hdb:vanish</strong>&nbsp;()</dt>
<dd>
Remove all records.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="hdb:vsiz"></a><strong>hdb:vsiz</strong>&nbsp;(key)</dt>
<dd>
Get the size of the value of a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  key: the key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the size of the value of the corresponding record, else, it is -1.



</dd>




<dt><a name="tdb:adddouble"></a><strong>tdb:adddouble</strong>&nbsp;(pkey, num)</dt>
<dd>
Add a real number to a record. The additional value is stored as a decimal string value of a column whose name is "_num".  If no record corresponds, a new record with the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="tdb:addint"></a><strong>tdb:addint</strong>&nbsp;(pkey, num)</dt>
<dd>
Add an integer to a record. The additional value is stored as a decimal string value of a column whose name is "_num".  If no record corresponds, a new record with the additional value is stored.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
	<li>
	  num: the additional value.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the summation value, else, it is `nil'.



</dd>




<dt><a name="tdb:close"></a><strong>tdb:close</strong>&nbsp;()</dt>
<dd>
Close the database file. Update of a database is assured to be written when the database is closed.  If a writer opens a database but does not close it appropriately, the database will be broken.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:copy"></a><strong>tdb:copy</strong>&nbsp;(path)</dt>
<dd>
Copy the database file. The database file is assured to be kept synchronized and not modified while the copying or executing operation is in progress.  So, this method is useful to create a backup file of the database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the destination file.  If it begins with `@', the trailing substring is executed as a command line.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.  False is returned if the executed command returns non-zero code.



</dd>




<dt><a name="tdb:ecode"></a><strong>tdb:ecode</strong>&nbsp;()</dt>
<dd>
Get the last happened error code.





<h3>Return value:</h3>
the last happened error code.  The following error codes are defined: `tdb.ESUCCESS' for success, `tdb.ETHREAD' for threading error, `tdb.EINVALID' for invalid operation, `tdb.ENOFILE' for file not found, `tdb.ENOPERM' for no permission, `tdb.EMETA' for invalid meta data, `tdb.ERHEAD' for invalid record header, `tdb.EOPEN' for open error, `tdb.ECLOSE' for close error, `tdb.ETRUNC' for trunc error, `tdb.ESYNC' for sync error, `tdb.ESTAT' for stat error, `tdb.ESEEK' for seek error, `tdb.EREAD' for read error, `tdb.EWRITE' for write error, `tdb.EMMAP' for mmap error, `tdb.ELOCK' for lock error, `tdb.EUNLINK' for unlink error, `tdb.ERENAME' for rename error, `tdb.EMKDIR' for mkdir error, `tdb.ERMDIR' for rmdir error, `tdb.EKEEP' for existing record, `tdb.ENOREC' for no record found, and `tdb.EMISC' for miscellaneous error.



</dd>




<dt><a name="tdb:errmsg"></a><strong>tdb:errmsg</strong>&nbsp;(ecode)</dt>
<dd>
Get the message string corresponding to an error code.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ecode: the error code.  If it is not defined or negative, the last happened error code is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
the message string of the error code.



</dd>




<dt><a name="tdb:foreach"></a><strong>tdb:foreach</strong>&nbsp;(func)</dt>
<dd>
Process each record atomically.


<h3>Parameters</h3>
<ul>
	
	<li>
	  func: the iterator function called for each record.  It receives two parameters of the key and a table of columns, and returns true to continue iteration or false to stop iteration.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:fsiz"></a><strong>tdb:fsiz</strong>&nbsp;()</dt>
<dd>
Get the size of the database file.





<h3>Return value:</h3>
the size of the database file or 0 if the object does not connect to any database file.



</dd>




<dt><a name="tdb:fwmkeys"></a><strong>tdb:fwmkeys</strong>&nbsp;(prefix, max)</dt>
<dd>
Get forward matching primary keys. This function may be very slow because every key in the database is scanned.


<h3>Parameters</h3>
<ul>
	
	<li>
	  prefix: the prefix of the corresponding keys.
	</li>
	
	<li>
	  max: the maximum number of keys to be fetched.  If it is negative, no limit is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="tdb:genuid"></a><strong>tdb:genuid</strong>&nbsp;()</dt>
<dd>
Generate a unique ID number.





<h3>Return value:</h3>
the new unique ID number or -1 on failure.



</dd>




<dt><a name="tdb:get"></a><strong>tdb:get</strong>&nbsp;(pkey)</dt>
<dd>
Retrieve a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is a table of the columns of the corresponding record.  `nil' is returned if no record corresponds.



</dd>




<dt><a name="tdb:iterinit"></a><strong>tdb:iterinit</strong>&nbsp;()</dt>
<dd>
Initialize the iterator. The iterator is used in order to access the primary key of every record stored in a database.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:iternext"></a><strong>tdb:iternext</strong>&nbsp;()</dt>
<dd>
Get the next primary key of the iterator. It is possible to access every record by iteration of calling this method.  It is allowed to update or remove records whose keys are fetched while the iteration.  However, it is not assured if updating the database is occurred while the iteration.  Besides, the order of this traversal access method is arbitrary, so it is not assured that the order of storing matches the one of the traversal access.





<h3>Return value:</h3>
If successful, it is the next primary key, else, it is `nil'.  `nil' is returned when no record is to be get out of the iterator.



</dd>




<dt><a name="tdb:open"></a><strong>tdb:open</strong>&nbsp;(path, omode)</dt>
<dd>
Open a database file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the database file.
	</li>
	
	<li>
	  omode: the connection mode: `tdb.OWRITER' as a writer, `tdb.OREADER' as a reader.  If the mode is `tdb.OWRITER', the following may be added by bitwise-or: `tdb.OCREAT', which means it creates a new database if not exist, `tdb.OTRUNC', which means it creates a new database regardless if one exists, `tdb.OTSYNC', which means every transaction synchronizes updated contents with the device.  Both of `tdb.OREADER' and `tdb.OWRITER' can be added to by bitwise-or: `tdb.ONOLCK', which means it opens the database file without file locking, or `tdb.OLCKNB', which means locking is performed without blocking.  If it is not defined, `tdb.OREADER' is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:optimize"></a><strong>tdb:optimize</strong>&nbsp;(bnum, apow, fpow, opts)</dt>
<dd>
Optimize the database file. This method is useful to reduce the size of the database file with data fragmentation by successive updating.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is two times of the number of records.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the current setting is not changed.
	</li>
	
	<li>
	  opts: options by bitwise-or: `tdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `tdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `tdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `tdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined or 0xff, the current setting is not changed.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:out"></a><strong>tdb:out</strong>&nbsp;(pkey)</dt>
<dd>
Remove a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:pairs"></a><strong>tdb:pairs</strong>&nbsp;()</dt>
<dd>
Get the iterator for generic "for" loop.





<h3>Return value:</h3>
plural values; the iterator to retrieve the key and the columns of the next record, the table itself, and nil.



</dd>




<dt><a name="tdb:path"></a><strong>tdb:path</strong>&nbsp;()</dt>
<dd>
Get the path of the database file.





<h3>Return value:</h3>
the path of the database file or `nil' if the object does not connect to any database file.



</dd>




<dt><a name="tdb:put"></a><strong>tdb:put</strong>&nbsp;(pkey, cols)</dt>
<dd>
Store a record. If a record with the same key exists in the database, it is overwritten.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
	<li>
	  cols: a table containing columns.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:putcat"></a><strong>tdb:putcat</strong>&nbsp;(pkey, cols)</dt>
<dd>
Concatenate columns of the existing record. If there is no corresponding record, a new record is created.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
	<li>
	  cols: a table containing columns.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:putkeep"></a><strong>tdb:putkeep</strong>&nbsp;(pkey, cols)</dt>
<dd>
Store a new record. If a record with the same key exists in the database, this method has no effect.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
	<li>
	  cols: a table containing columns.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:rnum"></a><strong>tdb:rnum</strong>&nbsp;()</dt>
<dd>
Get the number of records.





<h3>Return value:</h3>
the number of records or 0 if the object does not connect to any database file.



</dd>




<dt><a name="tdb:setcache"></a><strong>tdb:setcache</strong>&nbsp;(rcnum, lcnum, ncnum)</dt>
<dd>
Set the caching parameters. The caching parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  rcnum: the maximum number of records to be cached.  If it is not defined or not more than 0, the record cache is disabled.  It is disabled by default.
	</li>
	
	<li>
	  lcnum: the maximum number of leaf nodes to be cached.  If it is not defined or not more than 0, the default value is specified.  The default value is 1024.
	</li>
	
	<li>
	  ncnum: the maximum number of non-leaf nodes to be cached.  If it is not defined or not more than 0, the default value is specified.  The default value is 512.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:setdfunit"></a><strong>tdb:setdfunit</strong>&nbsp;(dfunit)</dt>
<dd>
Set the unit step number of auto defragmentation.


<h3>Parameters</h3>
<ul>
	
	<li>
	  dfunit: the unit step number.  If it is not more than 0, the auto defragmentation is disabled.  It is disabled by default.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:setindex"></a><strong>tdb:setindex</strong>&nbsp;(name, type)</dt>
<dd>
Set a column index.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: the name of a column.  If the name of an existing index is specified, the index is rebuilt.  An empty string means the primary key.
	</li>
	
	<li>
	  type: the index type: `tdb.ITLEXICAL' for lexical string, `tdb.ITDECIMAL' for decimal string, `tdb.ITTOKEN' for token inverted index, `tdb.ITQGRAM' for q-gram inverted index.  If it is `tdb.ITOPT', the index is optimized.  If it is `tdb.ITVOID', the index is removed.  If `tdb.ITKEEP' is added by bitwise-or and the index exists, this method merely returns failure.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:setxmsiz"></a><strong>tdb:setxmsiz</strong>&nbsp;(xmsiz)</dt>
<dd>
Set the size of the extra mapped memory. The mapping parameters should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  xmsiz: the size of the extra mapped memory.  If it is not defined or not more than 0, the extra mapped memory is disabled.  The default size is 67108864.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:sync"></a><strong>tdb:sync</strong>&nbsp;()</dt>
<dd>
Synchronize updated contents with the file and the device. This method is useful when another process connects the same database file.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:tranabort"></a><strong>tdb:tranabort</strong>&nbsp;()</dt>
<dd>
Abort the transaction. Update in the transaction is discarded when it is aborted.  The state of the database is rollbacked to before transaction.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:tranbegin"></a><strong>tdb:tranbegin</strong>&nbsp;()</dt>
<dd>
Begin the transaction. The database is locked by the thread while the transaction so that only one transaction can be activated with a database object at the same time.  Thus, the serializable isolation level is assumed if every database operation is performed in the transaction.  All updated regions are kept track of by write ahead logging while the transaction.  If the database is closed during transaction, the transaction is aborted implicitly.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:trancommit"></a><strong>tdb:trancommit</strong>&nbsp;()</dt>
<dd>
Commit the transaction. Update in the transaction is fixed when it is committed successfully.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:tune"></a><strong>tdb:tune</strong>&nbsp;(bnum, apow, fpow, opts)</dt>
<dd>
Set the tuning parameters. The tuning parameters of the database should be set before the database is opened.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bnum: the number of elements of the bucket array.  If it is not defined or not more than 0, the default value is specified.  The default value is 131071.  Suggested size of the bucket array is about from 0.5 to 4 times of the number of all records to be stored.
	</li>
	
	<li>
	  apow: the size of record alignment by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 4 standing for 2^4=16.
	</li>
	
	<li>
	  fpow: the maximum number of elements of the free block pool by power of 2.  If it is not defined or negative, the default value is specified.  The default value is 10 standing for 2^10=1024.
	</li>
	
	<li>
	  opts: options by bitwise-or: `tdb.TLARGE' specifies that the size of the database can be larger than 2GB by using 64-bit bucket array, `tdb.TDEFLATE' specifies that each record is compressed with Deflate encoding, `tdb.TBZIP' specifies that each record is compressed with BZIP2 encoding, `tdb.TTCBS' specifies that each record is compressed with TCBS encoding.  If it is not defined, no option is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:vanish"></a><strong>tdb:vanish</strong>&nbsp;()</dt>
<dd>
Remove all records.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdb:vsiz"></a><strong>tdb:vsiz</strong>&nbsp;(pkey)</dt>
<dd>
Get the size of the value of a record.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pkey: the primary key.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is the size of the value of the corresponding record, else, it is -1.



</dd>




<dt><a name="tdbqry:addcond"></a><strong>tdbqry:addcond</strong>&nbsp;(name, op, expr)</dt>
<dd>
Add a narrowing condition.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: the name of a column.  An empty string means the primary key.
	</li>
	
	<li>
	  op: an operation type: `tdbqry.QCSTREQ' for string which is equal to the expression, `tdbqry.QCSTRINC' for string which is included in the expression, `tdbqry.QCSTRBW' for string which begins with the expression, `tdbqry.QCSTREW' for string which ends with the expression, `tdbqry.QCSTRAND' for string which includes all tokens in the expression, `tdbqry.QCSTROR' for string which includes at least one token in the expression, `tdbqry.QCSTROREQ' for string which is equal to at least one token in the expression, `tdbqry.QCSTRRX' for string which matches regular expressions of the expression, `tdbqry.QCNUMEQ' for number which is equal to the expression, `tdbqry.QCNUMGT' for number which is greater than the expression, `tdbqry.QCNUMGE' for number which is greater than or equal to the expression, `tdbqry.QCNUMLT' for number which is less than the expression, `tdbqry.QCNUMLE' for number which is less than or equal to the expression, `tdbqry.QCNUMBT' for number which is between two tokens of the expression, `tdbqry.QCNUMOREQ' for number which is equal to at least one token in the expression, `tdbqry.QCFTSPH' for full-text search with the phrase of the expression, `tdbqry.QCFTSAND' for full-text search with all tokens in the expression, `tdbqry.QCFTSOR' for full-text search with at least one token in the expression, `tdbqry.QCFTSEX' for full-text search with the compound expression.  All operations can be flagged by bitwise-or: `tdbqry.QCNEGATE' for negation, `tdbqry.QCNOIDX' for using no index.
	</li>
	
	<li>
	  expr: an operand exression.
	</li>
	
</ul>






</dd>




<dt><a name="tdbqry:hint"></a><strong>tdbqry:hint</strong>&nbsp;()</dt>
<dd>
Get the hint of a query object.





<h3>Return value:</h3>
the hint string.



</dd>




<dt><a name="tdbqry:kwic"></a><strong>tdbqry:kwic</strong>&nbsp;(cols, name, width, opts)</dt>
<dd>
Generate keyword-in-context strings.


<h3>Parameters</h3>
<ul>
	
	<li>
	  cols: a table containing columns.
	</li>
	
	<li>
	  name: the name of a column.  If it is not defined, the first column of the query is specified.
	</li>
	
	<li>
	  width: the width of strings picked up around each keyword.  If it is not defined or negative, the whole text is picked up.
	</li>
	
	<li>
	  opts: options by bitwise-or: `tdbqry.KWMUTAB' specifies that each keyword is marked up between two tab characters, `tdbqry.KWMUCTRL' specifies that each keyword is marked up by the STX (0x02) code and the ETX (0x03) code, `tdbqry.KWMUBRCT' specifies that each keyword is marked up by the two square brackets, `tdbqry.KWNOOVER' specifies that each context does not overlap, `tdbqry.KWPULEAD' specifies that the lead string is picked up forcibly.  If it is not defined, no option is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of strings around keywords.



</dd>




<dt><a name="tdbqry:metasearch"></a><strong>tdbqry:metasearch</strong>&nbsp;(others, type)</dt>
<dd>
Retrieve records with multiple query objects and get the set of the result.


<h3>Parameters</h3>
<ul>
	
	<li>
	  others: an array of the query objects except for the self object.
	</li>
	
	<li>
	  type: a set operation type: `tdbqry.MSUNION' for the union set, `tdbqry.MSISECT' for the intersection set, `tdbqry.MSDIFF' for the difference set.  If it is not defined, `tdbqry.MSUNION' is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of the primary keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds. If the first query object has the order setting, the result array is sorted by the order.



</dd>




<dt><a name="tdbqry:proc"></a><strong>tdbqry:proc</strong>&nbsp;()</dt>
<dd>
Process each corresponding record. This method needs a block parameter of the iterator called for each record.  The block receives two parameters.  The first parameter is the primary key.  The second parameter is a table containing columns.  It returns flags of the post treatment by bitwise-or: `tdbqry.QPPUT' to modify the record, `tdbqry.QPOUT' to remove the record, `tdbqry.QPSTOP' to stop the iteration.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdbqry:search"></a><strong>tdbqry:search</strong>&nbsp;()</dt>
<dd>
Execute the search.





<h3>Return value:</h3>
an array of the primary keys of the corresponding records.  This method does never fail.  It returns an empty array even if no record corresponds.



</dd>




<dt><a name="tdbqry:searchout"></a><strong>tdbqry:searchout</strong>&nbsp;()</dt>
<dd>
Remove each corresponding record.





<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tdbqry:setlimit"></a><strong>tdbqry:setlimit</strong>&nbsp;(max, skip)</dt>
<dd>
Set the maximum number of records of the result.


<h3>Parameters</h3>
<ul>
	
	<li>
	  max: the maximum number of records of the result.  If it is not defined or negative, no limit is specified.
	</li>
	
	<li>
	  skip: the maximum number of records of the result.  If it is not defined or not more than 0, no record is skipped.
	</li>
	
</ul>






</dd>




<dt><a name="tdbqry:setorder"></a><strong>tdbqry:setorder</strong>&nbsp;(name, type)</dt>
<dd>
Set the order of the result.


<h3>Parameters</h3>
<ul>
	
	<li>
	  name: the name of a column.  An empty string means the primary key.
	</li>
	
	<li>
	  type: the order type: `tdbqry.QOSTRASC' for string ascending, `tdbqry.QOSTRDESC' for string descending, `tdbqry.QONUMASC' for number ascending, `tdbqry.QONUMDESC' for number descending.  If it is not defined, `tdbqry.QOSTRASC' is specified.
	</li>
	
</ul>






</dd>




<dt><a name="tokyocabinet.adbnew"></a><strong>tokyocabinet.adbnew</strong>&nbsp;()</dt>
<dd>
Create an abstract database object. Abstract database is a set of interfaces to use on-memory hash database, on-memory tree database, hash database, B+ tree database, fixed-length database, and table database with the same API.  Before operations to store or retrieve records, it is necessary to connect the abstract database object to the concrete one.  The method `open' is used to open a concrete database and the method `close' is used to close the database.  To avoid data missing or corruption, it is important to close every database instance when it is no longer in use.  It is forbidden for multible database objects in a process to open the same database at the same time.





<h3>Return value:</h3>
the new abstract database object.



</dd>




<dt><a name="tokyocabinet.bdbcurnew"></a><strong>tokyocabinet.bdbcurnew</strong>&nbsp;(bdb)</dt>
<dd>
Create a cursor object of a B+ tree database object. Cursor is a mechanism to access each record of B+ tree database in ascending or descending order.  The cursor is available only after initialization with the `cur:first' or the `cur:jump' methods and so on.  Moreover, the position of the cursor will be indefinite when the database is updated after the initialization of the cursor.


<h3>Parameters</h3>
<ul>
	
	<li>
	  bdb: the B+ tree database object.
	</li>
	
</ul>






</dd>




<dt><a name="tokyocabinet.bdbnew"></a><strong>tokyocabinet.bdbnew</strong>&nbsp;()</dt>
<dd>
Create a B+ tree database object. B+ tree database is a file containing a B+ tree and is handled with the B+ tree database API.  Before operations to store or retrieve records, it is necessary to open a database file and connect the B+ tree database object to it.  To avoid data missing or corruption, it is important to close every database file when it is no longer in use.  It is forbidden for multible database objects in a process to open the same database at the same time.





<h3>Return value:</h3>
the new B+ tree database object.



</dd>




<dt><a name="tokyocabinet.bit"></a><strong>tokyocabinet.bit</strong>&nbsp;(mode, num, aux)</dt>
<dd>
Perform bit operation of an integer.


<h3>Parameters</h3>
<ul>
	
	<li>
	  mode: the operator; "and" for bitwise-and operation, "or" for bitwise-or operation, "xor" for bitwise-xor operation, "not" for bitwise-not operation, "left" for left shift operation, "right" for right shift operation.
	</li>
	
	<li>
	  num: the integer, which is treated as an unsigned 32-bit integer.
	</li>
	
	<li>
	  aux: the auxiliary operand for some operators.
	</li>
	
</ul>




<h3>Return value:</h3>
the result value.



</dd>




<dt><a name="tokyocabinet.chdir"></a><strong>tokyocabinet.chdir</strong>&nbsp;(path)</dt>
<dd>
Change the current working directory.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the directory.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tokyocabinet.codec"></a><strong>tokyocabinet.codec</strong>&nbsp;(mode, str)</dt>
<dd>
Encode or decode a string.


<h3>Parameters</h3>
<ul>
	
	<li>
	  mode: the encoding method; "url" for URL encoding, "~url" for URL decoding, "base" for Base64 encoding, "~base" for Base64 decoding, "hex" for hexadecimal encoding, "~hex" for hexadecimal decoding, "pack" for PackBits encoding, "~pack" for PackBits decoding, "tcbs" for TCBS encoding, "~tcbs" for TCBS decoding, "deflate" for Deflate encoding, "~deflate" for Deflate decoding, "gzip" for GZIP encoding, "~gzip" for GZIP decoding, "bzip" for BZIP2 encoding, "~bzip" for BZIP2 decoding, "xml" for XML escaping, "~xml" for XML unescaping.
	</li>
	
	<li>
	  str: the string.
	</li>
	
</ul>




<h3>Return value:</h3>
the encoded or decoded string.



</dd>




<dt><a name="tokyocabinet.dist"></a><strong>tokyocabinet.dist</strong>&nbsp;(astr, bstr, isutf)</dt>
<dd>
Calculate the edit distance of two UTF-8 strings.


<h3>Parameters</h3>
<ul>
	
	<li>
	  astr: a string.
	</li>
	
	<li>
	  bstr: the other string.
	</li>
	
	<li>
	  isutf: whether to calculate cost by Unicode character.  If it is not defined, false is specified and calculate cost by ASCII character.
	</li>
	
</ul>




<h3>Return value:</h3>
the edit distance which is known as the Levenshtein distance.



</dd>




<dt><a name="tokyocabinet.fdbnew"></a><strong>tokyocabinet.fdbnew</strong>&nbsp;()</dt>
<dd>
Create a fixed-length database object. Fixed-Length database is a file containing a fixed-length table and is handled with the fixed-length database API.  Before operations to store or retrieve records, it is necessary to open a database file and connect the fixed-length database object to it.  To avoid data missing or corruption, it is important to close every database file when it is no longer in use.  It is forbidden for multible database objects in a process to open the same database at the same time.





<h3>Return value:</h3>
the new fixed-length database object.



</dd>




<dt><a name="tokyocabinet.glob"></a><strong>tokyocabinet.glob</strong>&nbsp;(pattern)</dt>
<dd>
Find pathnames matching a pattern.


<h3>Parameters</h3>
<ul>
	
	<li>
	  pattern: the matching pattern.  "?" and "*" are meta characters.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of matched paths.  If no path is matched, an empty array is returned.



</dd>




<dt><a name="tokyocabinet.hash"></a><strong>tokyocabinet.hash</strong>&nbsp;(mode, str)</dt>
<dd>
Get the hash value of a string.


<h3>Parameters</h3>
<ul>
	
	<li>
	  mode: the hash method; "md5" for MD5 in hexadecimal format, "md5raw" for MD5 in raw format, "crc32" for CRC32 checksum number.
	</li>
	
	<li>
	  str: the string.
	</li>
	
</ul>




<h3>Return value:</h3>
the hash value.



</dd>




<dt><a name="tokyocabinet.hdbnew"></a><strong>tokyocabinet.hdbnew</strong>&nbsp;()</dt>
<dd>
Create a hash database object. Hash database is a file containing a hash table and is handled with the hash database API.  Before operations to store or retrieve records, it is necessary to open a database file and connect the hash database object to it.  To avoid data missing or corruption, it is important to close every database file when it is no longer in use.  It is forbidden for multible database objects in a process to open the same database at the same time.





<h3>Return value:</h3>
the new hash database object.



</dd>




<dt><a name="tokyocabinet.isect"></a><strong>tokyocabinet.isect</strong>&nbsp;(ary, ...)</dt>
<dd>
Calculate the intersection set of arrays.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ary: the arrays.  Arbitrary number of arrays can be specified as the parameter list.
	</li>
	
	<li>
	  ...: 
	</li>
	
</ul>




<h3>Return value:</h3>
the array of the intersection set.



</dd>




<dt><a name="tokyocabinet.mkdir"></a><strong>tokyocabinet.mkdir</strong>&nbsp;(path)</dt>
<dd>
Create a directory.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the directory.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tokyocabinet.pack"></a><strong>tokyocabinet.pack</strong>&nbsp;(format, ary, ...)</dt>
<dd>
Serialize an array of numbers into a string.


<h3>Parameters</h3>
<ul>
	
	<li>
	  format: the format string.  It should be composed of conversion characters; `c' for int8_t, `C' for uint8_t, `s' for int16_t, `S' for uint16_t, `i' for int32_t, `I' for uint32_t, `l' for int64_t, `L' for uint64_t, `f' for float, `d' for double, `n' for uint16_t in network byte order, `N' for uint32_t in network byte order, `M' for uint64_t in network byte order, and `w' for BER encoding.  They can be trailed by a numeric expression standing for the iteration count or by `*' for the rest all iteration.
	</li>
	
	<li>
	  ary: the array of numbers.  It can be trailed optional arguments, which are treated as additional elements of the array.
	</li>
	
	<li>
	  ...: 
	</li>
	
</ul>




<h3>Return value:</h3>
the serialized string.



</dd>




<dt><a name="tokyocabinet.regex"></a><strong>tokyocabinet.regex</strong>&nbsp;(str, pattern, alt)</dt>
<dd>
Perform pattern matching or replacement with regular expressions.


<h3>Parameters</h3>
<ul>
	
	<li>
	  str: the source string.
	</li>
	
	<li>
	  pattern: the pattern of regular expressions.
	</li>
	
	<li>
	  alt: the alternative string corresponding for the pattern.  If it is not defined, matching check is performed.
	</li>
	
</ul>




<h3>Return value:</h3>
If the alternative string is specified, the converted string is returned.  If the alternative string is not specified, the boolean value of whether the source string matches the pattern is returned.



</dd>




<dt><a name="tokyocabinet.remove"></a><strong>tokyocabinet.remove</strong>&nbsp;(path)</dt>
<dd>
Remove a file or a directory and its sub ones recursively.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the link.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tokyocabinet.sleep"></a><strong>tokyocabinet.sleep</strong>&nbsp;(sec)</dt>
<dd>
Suspend execution for the specified interval.


<h3>Parameters</h3>
<ul>
	
	<li>
	  sec: the interval in seconds.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is true, else, it is false.



</dd>




<dt><a name="tokyocabinet.split"></a><strong>tokyocabinet.split</strong>&nbsp;(str, delims)</dt>
<dd>
Split a string into substrings.


<h3>Parameters</h3>
<ul>
	
	<li>
	  str: the string
	</li>
	
	<li>
	  delims: a string including separator characters.  If it is not defined, the zero code is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
an array of substrings.



</dd>




<dt><a name="tokyocabinet.stat"></a><strong>tokyocabinet.stat</strong>&nbsp;(path)</dt>
<dd>
Get the status of a file.


<h3>Parameters</h3>
<ul>
	
	<li>
	  path: the path of the file.
	</li>
	
</ul>




<h3>Return value:</h3>
If successful, it is a table containing status, else, it is `nil'.  There are keys of status name; "dev", "ino", "mode", "nlink", "uid", "gid", "rdev", "size", "blksize", "blocks", "atime", "mtime", "ctime", which have same meanings of the POSIX "stat" call.  Additionally, "_regular" for whether the file is a regular file, "_directory" for whether the file is a directory, "_readable" for whether the file is readable by the process, "_writable" for whether the file is writable by the process, "_executable" for whether the file is executable by the process, "_realpath" for the real path of the file, are supported.



</dd>




<dt><a name="tokyocabinet.tablenew"></a><strong>tokyocabinet.tablenew</strong>&nbsp;(anum, rnum)</dt>
<dd>
Create a table with specifying the number of array elements and the number of hash records.


<h3>Parameters</h3>
<ul>
	
	<li>
	  anum: the expected number of array elements.  If it is not defined, 0 is specified.
	</li>
	
	<li>
	  rnum: the expected number of hash records.  If it is not defined, 0 is specified.
	</li>
	
</ul>




<h3>Return value:</h3>
the created empty table.



</dd>




<dt><a name="tokyocabinet.tdbnew"></a><strong>tokyocabinet.tdbnew</strong>&nbsp;()</dt>
<dd>
Create a table database object. Table database is a file containing records composed of the primary keys and arbitrary columns and is handled with the table database API.  Before operations to store or retrieve records, it is necessary to open a database file and connect the table database object to it.  To avoid data missing or corruption, it is important to close every database file when it is no longer in use.  It is forbidden for multible database objects in a process to open the same database at the same time.





<h3>Return value:</h3>
the new table database object.



</dd>




<dt><a name="tokyocabinet.tdbqrynew"></a><strong>tokyocabinet.tdbqrynew</strong>&nbsp;(tdb)</dt>
<dd>
Create a query object of a table database object. Query is a mechanism to search for and retrieve records corresponding conditions from table database.


<h3>Parameters</h3>
<ul>
	
	<li>
	  tdb: the table database object.
	</li>
	
</ul>






</dd>




<dt><a name="tokyocabinet.time"></a><strong>tokyocabinet.time</strong>&nbsp;()</dt>
<dd>
Get the time of day in seconds.





<h3>Return value:</h3>
the time of day in seconds.  The accuracy is in microseconds.



</dd>




<dt><a name="tokyocabinet.ucs"></a><strong>tokyocabinet.ucs</strong>&nbsp;(data)</dt>
<dd>
Convert a UTF-8 string into a UCS-2 array or its inverse.


<h3>Parameters</h3>
<ul>
	
	<li>
	  data: the target data.  If it is a string, convert it into a UCS-array.  If it is an array, convert it into a UTF-8 string.
	</li>
	
</ul>




<h3>Return value:</h3>
the result data.



</dd>




<dt><a name="tokyocabinet.union"></a><strong>tokyocabinet.union</strong>&nbsp;(ary, ...)</dt>
<dd>
Calculate the union set of arrays.


<h3>Parameters</h3>
<ul>
	
	<li>
	  ary: the arrays.  Arbitrary number of arrays can be specified as the parameter list.
	</li>
	
	<li>
	  ...: 
	</li>
	
</ul>




<h3>Return value:</h3>
the array of the union set.



</dd>




<dt><a name="tokyocabinet.unpack"></a><strong>tokyocabinet.unpack</strong>&nbsp;(format, str)</dt>
<dd>
Deserialize a binary string into an array of numbers.


<h3>Parameters</h3>
<ul>
	
	<li>
	  format: the format string.  It should be composed of conversion characters as with `tokyocabinet.pack'.
	</li>
	
	<li>
	  str: the binary string.
	</li>
	
</ul>




<h3>Return value:</h3>
the deserialized array.



</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
Tokyo Cabinet Manual
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
